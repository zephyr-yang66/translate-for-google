# DeepSeek 翻译插件 - 安装指南

**版本**: 2.0.0  
**更新日期**: 2025-11-07

---

## 🎉 打包完成

Chrome 扩展已成功打包！

**打包文件**: `deepseek-translator-v2.0.0.zip` (28 KB)

---

## 📦 安装方式

### 方式一：本地安装（开发模式）

适合开发者或需要自定义的用户。

#### 步骤：

1. **打开 Chrome 扩展管理页面**
   - 在地址栏输入：`chrome://extensions/`
   - 或点击：菜单 → 更多工具 → 扩展程序

2. **启用开发者模式**
   - 在页面右上角找到「开发者模式」开关
   - 点击开关，启用开发者模式

3. **加载扩展**
   
   **选项 A：从 dist 目录加载（推荐开发使用）**
   - 点击「加载已解压的扩展程序」按钮
   - 选择项目的 `dist/` 目录
   - 点击「选择」

   **选项 B：从 ZIP 文件加载**
   - 解压 `deepseek-translator-v2.0.0.zip` 到任意目录
   - 点击「加载已解压的扩展程序」
   - 选择解压后的目录
   - 点击「选择」

4. **验证安装**
   - 扩展列表中应该出现「DeepSeek 翻译」
   - 图标应该正常显示
   - 状态显示为「已启用」

5. **配置 API 密钥**
   - 点击扩展图标旁的「详细信息」
   - 点击「扩展程序选项」
   - 或右键扩展图标 → 选项
   - 输入 DeepSeek API 密钥
   - 点击「测试连接」验证
   - 点击「保存」

---

### 方式二：Chrome Web Store 安装（未上架）

**注意**: 目前扩展尚未发布到 Chrome Web Store。

如需发布，请按照以下步骤：

1. **准备材料**
   - ✅ `deepseek-translator-v2.0.0.zip`（已完成）
   - 应用图标（128x128 PNG）
   - 应用截图（至少 1 张，最多 5 张）
   - 详细描述和宣传文案
   - 隐私政策（如果收集用户数据）

2. **注册 Chrome Web Store 开发者账号**
   - 访问 [Chrome Web Store 开发者控制台](https://chrome.google.com/webstore/devconsole/)
   - 支付一次性注册费用（5 美元）

3. **上传扩展**
   - 上传 `deepseek-translator-v2.0.0.zip`
   - 填写扩展信息
   - 添加截图和宣传图片
   - 提交审核

4. **审核和发布**
   - 等待 Google 审核（通常 1-3 个工作日）
   - 审核通过后即可发布

---

## ✅ 使用方法

### 基础翻译

1. **选中文本**
   - 在任意网页中用鼠标选中一段英文或中文文本

2. **触发翻译**
   - 右键点击选中的文本
   - 在菜单中选择「使用 DeepSeek 翻译」

3. **查看结果**
   - 浏览器右侧会滑出翻译抽屉
   - 抽屉中显示原文和译文

4. **关闭抽屉**
   - 点击抽屉右上角的关闭按钮（×）

### 高级功能

#### 1. 切换显示语言

- 在翻译抽屉顶部有「中文」和「English」两个按钮
- 点击按钮可以切换显示原文或译文

#### 2. 切换翻译引擎

- 在翻译抽屉底部有「翻译模型」下拉框
- 可以选择：
  - **DeepSeek** - AI 翻译，质量高
  - **百度翻译** - 传统机器翻译，速度快
  - **LibreTranslate** - 开源翻译，免费
- 切换后会自动重新翻译

#### 3. 连续翻译

- 保持抽屉打开状态
- 选中网页中的其他文本
- 再次右键翻译
- 抽屉内容会自动更新

---

## ⚙️ 配置说明

### 打开配置页面

**方法 1：通过扩展管理页面**
1. 访问 `chrome://extensions/`
2. 找到「DeepSeek 翻译」
3. 点击「详细信息」
4. 点击「扩展程序选项」

**方法 2：通过右键菜单**
1. 右键点击扩展图标
2. 选择「选项」

### 配置项说明

#### 1. DeepSeek 配置

| 配置项 | 说明 | 获取方式 |
|--------|------|----------|
| **API 密钥** | DeepSeek API Key | 访问 [DeepSeek 平台](https://platform.deepseek.com/) 注册获取 |
| **API 端点** | API 地址 | 默认：`https://api.deepseek.com/v1/chat/completions` |
| **模型** | 使用的模型 | 默认：`deepseek-chat` |

#### 2. 百度翻译配置

| 配置项 | 说明 | 获取方式 |
|--------|------|----------|
| **APP ID** | 百度翻译 APP ID | 访问 [百度翻译开放平台](https://fanyi-api.baidu.com/) 注册获取 |
| **API 密钥** | 百度翻译 API Key | 同上 |

#### 3. LibreTranslate 配置

| 配置项 | 说明 | 获取方式 |
|--------|------|----------|
| **API 端点** | LibreTranslate 服务地址 | 默认：`https://libretranslate.com/translate` |
| **API 密钥** | 可选 | 公共实例无需密钥，自托管需要 |

#### 4. 通用配置

| 配置项 | 说明 | 默认值 |
|--------|------|--------|
| **默认翻译引擎** | 首次翻译使用的引擎 | DeepSeek |
| **请求超时** | API 请求超时时间 | 10 秒 |
| **启用缓存** | 缓存翻译结果 | 启用 |

### 测试配置

1. 输入 API 密钥等配置信息
2. 点击「测试连接」按钮
3. 等待测试结果：
   - ✅ **成功**：显示「成功连接请保存」（绿色）
   - ❌ **失败**：显示「连接失败请检查」（红色）
4. 测试成功后，点击「保存」按钮

---

## 🔧 常见问题

### Q1: 安装后没有反应？

**解决方法**:
1. 检查扩展是否已启用
2. 刷新网页（F5）
3. 查看是否配置了 API 密钥
4. 检查控制台是否有错误（F12）

### Q2: 右键菜单没有翻译选项？

**解决方法**:
1. 确保已选中文本
2. 检查扩展是否启用
3. 刷新网页重试
4. 重启 Chrome 浏览器

### Q3: 翻译失败或显示错误？

**可能原因**:
1. **API 密钥错误** - 重新检查配置
2. **网络连接问题** - 检查网络
3. **API 配额用完** - 检查 API 使用情况
4. **文本过长** - 限制为 5000 字符

**解决方法**:
1. 打开配置页面
2. 点击「测试连接」验证配置
3. 检查浏览器控制台的错误日志
4. 尝试切换到其他翻译引擎

### Q4: 抽屉被网页遮挡？

**说明**: 极少数网站使用了极高的 z-index

**解决方法**:
1. 刷新网页重试
2. 如果问题持续，请反馈具体网站地址

### Q5: 如何获取 API 密钥？

#### DeepSeek API 密钥

1. 访问 [DeepSeek 平台](https://platform.deepseek.com/)
2. 注册并登录账号
3. 进入 API Keys 页面
4. 创建新的 API Key
5. 复制并保存密钥（只显示一次）

#### 百度翻译 API 密钥

1. 访问 [百度翻译开放平台](https://fanyi-api.baidu.com/)
2. 注册并登录账号
3. 进入管理控制台
4. 开通通用翻译 API
5. 获取 APP ID 和密钥

#### LibreTranslate

- 使用公共实例无需密钥
- 自托管实例需要配置密钥

---

## 📊 功能特性

### ✅ 已实现功能

| 功能 | 说明 |
|------|------|
| **快速翻译** | 右键菜单一键翻译 |
| **侧边抽屉** | 不遮挡原文，方便对照 |
| **多引擎支持** | DeepSeek、百度翻译、LibreTranslate |
| **双向翻译** | 支持中英互译 |
| **语言检测** | 自动判断源语言和目标语言 |
| **语言切换** | 快速切换显示原文或译文 |
| **引擎切换** | 实时切换不同翻译引擎 |
| **缓存机制** | 相同文本秒级响应 |
| **错误处理** | 友好的错误提示 |
| **配置页面** | 完整的配置和测试功能 |

### 🚧 计划中功能

| 功能 | 优先级 | 预计时间 |
|------|--------|----------|
| 翻译历史记录 | 中 | 1-2 月 |
| 快捷键支持 | 高 | 1-2 周 |
| 复制功能 | 高 | 1-2 周 |
| 深色模式 | 中 | 1-2 月 |
| 语音朗读 | 低 | 3-6 月 |
| 更多语言支持 | 低 | 3-6 月 |

---

## 🔒 隐私和安全

### 数据处理

- ✅ **不收集用户数据**：扩展不会收集或上传任何用户数据
- ✅ **本地存储**：API 密钥和配置仅存储在本地
- ✅ **HTTPS 加密**：所有 API 请求使用 HTTPS 加密传输
- ✅ **无第三方追踪**：不包含任何分析或追踪代码

### 权限说明

| 权限 | 用途 |
|------|------|
| `contextMenus` | 创建右键菜单 |
| `activeTab` | 访问当前标签页内容 |
| `storage` | 保存配置和缓存 |
| `notifications` | 显示通知（可选） |
| `https://api.deepseek.com/*` | 调用 DeepSeek API |
| `https://fanyi-api.baidu.com/*` | 调用百度翻译 API |
| `https://libretranslate.com/*` | 调用 LibreTranslate API |

### 注意事项

- ⚠️ **选中的文本会发送到翻译服务** - 请勿翻译敏感信息
- ⚠️ **API 密钥需妥善保管** - 不要分享给他人
- ⚠️ **使用公共网络时注意安全** - 建议使用 VPN

---

## 📝 版本信息

### 当前版本: 2.0.0

**发布日期**: 2025-11-07

**更新内容**:
- ✅ 支持多翻译引擎（DeepSeek、百度翻译、LibreTranslate）
- ✅ 新增语言切换功能
- ✅ 新增引擎切换功能
- ✅ 新增配置页面
- ✅ 优化缓存机制
- ✅ 优化错误处理
- ✅ 优化 UI 体验

**技术栈**:
- TypeScript 5.4.5
- Vite 5.2.10
- Chrome Extension Manifest V3

---

## 🤝 支持与反馈

### 问题反馈

如遇到问题，请提供以下信息：

1. **Chrome 版本**：访问 `chrome://version/` 查看
2. **扩展版本**：2.0.0
3. **操作系统**：Windows / macOS / Linux
4. **问题描述**：详细描述问题和重现步骤
5. **错误日志**：按 F12 打开控制台，截图错误信息

### 功能建议

欢迎提出功能改进建议！

---

## 📚 相关文档

- [项目说明](README.md) - 完整功能介绍
- [快速开始](QUICKSTART.md) - 5 分钟上手指南
- [测试指南](TESTING.md) - 详细测试步骤
- [功能规格](docs/specs/1-deepseek-translator/spec.md) - 需求文档
- [实施计划](docs/specs/1-deepseek-translator/plans/implementation-plan.md) - 开发计划

---

## 📦 打包信息

```
文件名称: deepseek-translator-v2.0.0.zip
文件大小: 28 KB
包含文件:
  ✅ background.js      - 后台脚本
  ✅ content.js         - 内容脚本
  ✅ options.js         - 配置页面脚本
  ✅ options.html       - 配置页面 HTML
  ✅ drawer.css         - 抽屉样式
  ✅ manifest.json      - 扩展配置
  ✅ icons/             - 图标文件
     ├── icon16.png    - 16x16 图标
     ├── icon48.png    - 48x48 图标
     └── icon128.png   - 128x128 图标
```

---

**安装愉快！🎉**

如有问题，请查看「常见问题」章节或反馈问题。

