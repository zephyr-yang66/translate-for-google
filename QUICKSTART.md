# 快速开始指南

## 🚀 5 分钟快速上手

### 步骤 1: 加载扩展到 Chrome

1. 打开 Chrome 浏览器
2. 在地址栏输入 `chrome://extensions/` 并回车
3. 在页面右上角打开「**开发者模式**」开关
4. 点击「**加载已解压的扩展程序**」按钮
5. 导航到项目目录，选择 `dist` 文件夹
6. 点击「选择」完成加载

✅ **成功标志**：扩展列表中出现「DeepSeek 翻译」，状态为「已启用」

### 步骤 2: 测试基础功能

1. 访问任意英文网页，例如：
   ```
   https://en.wikipedia.org/wiki/Artificial_intelligence
   ```

2. 用鼠标选中一段英文文本，例如：
   ```
   Artificial intelligence is intelligence demonstrated by machines
   ```

3. 在选中的文本上右键点击

4. 在菜单中点击「**使用 DeepSeek 翻译**」

5. 观察浏览器右侧：
   - ✅ 应该滑出一个白色的翻译抽屉
   - ✅ 顶部显示原文（英文）
   - ✅ 下方显示「翻译中...」加载动画
   - ✅ 几秒后显示中文译文

6. 点击抽屉右上角的「×」关闭

### 步骤 3: 验证连续翻译

1. 保持抽屉打开状态
2. 在网页中选中另一段文本
3. 再次右键选择「使用 DeepSeek 翻译」
4. 观察抽屉内容是否更新为新的翻译

✅ **预期**：抽屉保持打开，内容更新，无需关闭再打开

---

## 🐛 常见问题

### Q1: 没有看到右键菜单选项

**检查**：
- 确保已选中文本（未选中时不会显示菜单）
- 确保扩展已启用（访问 `chrome://extensions/` 检查）
- 尝试刷新网页后重试

### Q2: 点击翻译后没有反应

**检查**：
- 打开开发者工具（F12）查看 Console 是否有错误
- 点击扩展管理页面的「service worker」查看后台日志
- 检查网络连接是否正常

### Q3: 翻译一直显示「翻译中...」

**可能原因**：
- API 密钥无效
- 网络连接问题
- DeepSeek API 服务暂时不可用

**解决**：
1. 检查 `src/config.ts` 中的 API 密钥是否正确
2. 在浏览器 Network 面板查看 API 请求状态
3. 确认 DeepSeek API 服务状态

### Q4: 抽屉样式显示异常

**解决**：
- 确认 `dist/drawer.css` 文件存在
- 在不同网站测试（排除特定网站 CSS 冲突）
- 重新构建扩展：`npm run build`

### Q5: 显示图标缺失警告

**说明**：这是正常的，项目使用占位图标

**影响**：扩展功能完全正常，只是工具栏显示默认图标

**可选解决**：在 `dist/icons/` 目录放置对应尺寸的 PNG 图标文件

---

## 📋 功能验证清单

测试前，请逐项验证以下功能：

### 基础功能
- [ ] 选中文本后右键菜单显示翻译选项
- [ ] 未选中文本时右键菜单不显示翻译选项
- [ ] 点击翻译后抽屉从右侧滑入
- [ ] 抽屉显示原文和译文两个区域
- [ ] 点击关闭按钮后抽屉滑出消失

### 翻译功能
- [ ] 单词翻译正确（如 "hello" → "你好"）
- [ ] 句子翻译流畅自然
- [ ] 长段落翻译完整，出现滚动条
- [ ] 翻译速度在 3-5 秒内
- [ ] 翻译结果准确，符合上下文

### 错误处理
- [ ] 断网情况下显示友好错误提示
- [ ] 错误提示包含解决建议
- [ ] 超时后自动显示超时提示

### 高级功能
- [ ] 连续翻译时抽屉内容更新
- [ ] 无需关闭再打开抽屉
- [ ] 不同网站上功能正常
- [ ] 抽屉样式不受网页 CSS 影响

---

## 🔍 调试技巧

### 查看扩展日志

1. **Background Script 日志**：
   - 访问 `chrome://extensions/`
   - 找到「DeepSeek 翻译」
   - 点击「service worker」链接
   - 打开的控制台显示后台日志

2. **Content Script 日志**：
   - 在测试网页按 F12 打开开发者工具
   - 切换到 Console 标签
   - 查看以「DeepSeek」开头的日志

### 查看网络请求

1. 打开开发者工具（F12）
2. 切换到 Network 标签
3. 触发翻译
4. 查找对 `api.deepseek.com` 的请求
5. 检查请求和响应内容

### 重新加载扩展

代码更改后需要重新加载：
1. 访问 `chrome://extensions/`
2. 找到「DeepSeek 翻译」
3. 点击右下角的「刷新」图标
4. 或者点击「移除」后重新加载

---

## 🎯 推荐测试网站

以下网站适合测试翻译功能：

1. **维基百科**（技术内容）
   ```
   https://en.wikipedia.org/wiki/Machine_learning
   ```

2. **MDN Web Docs**（开发文档）
   ```
   https://developer.mozilla.org/en-US/
   ```

3. **GitHub README**（技术说明）
   ```
   https://github.com/microsoft/vscode
   ```

4. **Medium 文章**（长文章）
   ```
   https://medium.com/
   ```

5. **Stack Overflow**（技术问答）
   ```
   https://stackoverflow.com/
   ```

---

## 📊 性能基准

正常情况下的性能指标：

| 指标 | 期望值 | 测量方法 |
|------|--------|----------|
| 翻译响应时间 | 2-5 秒 | 查看 Console 日志 |
| 抽屉打开动画 | 300ms | 目测或录屏 |
| 内存占用 | < 50 MB | Chrome 任务管理器 |
| 首次加载时间 | < 1 秒 | 刷新页面后观察 |

---

## ✅ 验收标准

完成以下所有测试即表示扩展功能正常：

### 必须通过 (P0)
1. ✅ 能够选中文本并打开右键菜单
2. ✅ 点击菜单后抽屉正确打开
3. ✅ 翻译请求成功返回中文结果
4. ✅ 原文和译文正确显示
5. ✅ 关闭按钮可以关闭抽屉
6. ✅ 网络错误时显示友好提示

### 应该通过 (P1)
1. ✅ 连续翻译时抽屉内容更新
2. ✅ 长文本出现滚动条
3. ✅ 翻译动画流畅自然
4. ✅ 不同网站样式一致

---

## 📝 反馈和改进

如果发现问题，请记录以下信息：

1. **环境信息**
   - Chrome 版本：`chrome://version/`
   - 操作系统：
   - 扩展版本：1.0.0

2. **问题描述**
   - 问题现象：
   - 重现步骤：
   - 预期结果：
   - 实际结果：

3. **日志截图**
   - Background Script 日志
   - Content Script 日志
   - Network 请求详情

---

## 🎉 成功完成！

如果以上测试都通过，恭喜！扩展已成功开发并可以正常使用。

**下一步**：
- 在日常使用中持续测试
- 收集用户反馈
- 根据需求添加新功能
- 优化性能和用户体验

如有问题，请参考 `TESTING.md` 获取更详细的测试指南。

