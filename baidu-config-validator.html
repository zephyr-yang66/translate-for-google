<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ç™¾åº¦ç¿»è¯‘é…ç½®éªŒè¯å·¥å…·</title>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      max-width: 1000px;
      margin: 40px auto;
      padding: 20px;
      background: #f5f5f5;
    }
    .container {
      background: white;
      padding: 30px;
      border-radius: 12px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }
    h1 {
      color: #333;
      margin-bottom: 10px;
    }
    .warning-box {
      background: #fff3cd;
      border-left: 4px solid #ff9800;
      padding: 15px;
      border-radius: 6px;
      margin-bottom: 20px;
    }
    .form-group {
      margin-bottom: 20px;
    }
    label {
      display: block;
      margin-bottom: 8px;
      font-weight: 600;
      color: #444;
    }
    input {
      width: 100%;
      padding: 12px;
      border: 1px solid #ddd;
      border-radius: 6px;
      font-size: 14px;
      box-sizing: border-box;
      font-family: 'Courier New', monospace;
    }
    button {
      background: #4CAF50;
      color: white;
      padding: 12px 30px;
      border: none;
      border-radius: 6px;
      font-size: 16px;
      cursor: pointer;
      font-weight: 600;
      margin-right: 10px;
    }
    button:hover {
      background: #45a049;
    }
    .result-section {
      margin-top: 30px;
      padding: 20px;
      background: #f9f9f9;
      border-radius: 8px;
      border-left: 4px solid #4CAF50;
    }
    .error {
      background: #ffebee;
      border-left-color: #f44336;
    }
    .success {
      background: #e8f5e9;
      border-left-color: #4CAF50;
    }
    .info-item {
      margin: 10px 0;
      padding: 10px;
      background: white;
      border-radius: 4px;
      font-family: 'Courier New', monospace;
      font-size: 13px;
    }
    .check-item {
      margin: 8px 0;
      padding: 8px;
      border-radius: 4px;
    }
    .check-pass {
      background: #e8f5e9;
      color: #2e7d32;
    }
    .check-fail {
      background: #ffebee;
      color: #c62828;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>ğŸ” ç™¾åº¦ç¿»è¯‘é…ç½®éªŒè¯å·¥å…·</h1>
    <p style="color: #666; margin-bottom: 20px;">æ£€æµ‹é…ç½®ä¸­çš„éšè—é—®é¢˜</p>

    <div class="warning-box">
      <strong>âš ï¸ 54001 ç­¾åé”™è¯¯çš„å¸¸è§åŸå› ï¼š</strong>
      <ul style="margin: 10px 0 0 20px;">
        <li>APP ID å¤åˆ¶æ—¶åŒ…å«äº†å¤šä½™çš„ç©ºæ ¼æˆ–æ¢è¡Œç¬¦</li>
        <li>å¯†é’¥å¤åˆ¶æ—¶ä¸å®Œæ•´æˆ–åŒ…å«äº†é¢å¤–å­—ç¬¦</li>
        <li>é…ç½®ä¸­æœ‰ä¸å¯è§çš„ç‰¹æ®Šå­—ç¬¦</li>
      </ul>
    </div>

    <form id="validateForm">
      <div class="form-group">
        <label for="appId">APP ID</label>
        <input type="text" id="appId" placeholder="ç²˜è´´æ‚¨çš„ APP ID" value="20251107002493001">
      </div>

      <div class="form-group">
        <label for="secretKey">å¯†é’¥</label>
        <input type="text" id="secretKey" placeholder="ç²˜è´´æ‚¨çš„å¯†é’¥" value="ET4V_d46sun4a3kf3dr8">
      </div>

      <button type="button" onclick="validateConfig()">éªŒè¯é…ç½®</button>
      <button type="button" onclick="clearResults()">æ¸…é™¤ç»“æœ</button>
    </form>

    <div id="results"></div>
  </div>

  <script>
    function validateConfig() {
      const appIdInput = document.getElementById('appId');
      const secretKeyInput = document.getElementById('secretKey');
      
      const appIdRaw = appIdInput.value;
      const secretKeyRaw = secretKeyInput.value;

      let html = '<div class="result-section">';
      html += '<h3>ğŸ“‹ é…ç½®æ£€æµ‹ç»“æœ</h3>';

      // 1. æ£€æŸ¥æ˜¯å¦ä¸ºç©º
      html += '<h4>1ï¸âƒ£ åŸºç¡€æ£€æŸ¥</h4>';
      
      if (!appIdRaw) {
        html += '<div class="check-item check-fail">âŒ APP ID ä¸ºç©º</div>';
      } else {
        html += '<div class="check-item check-pass">âœ… APP ID ä¸ä¸ºç©º</div>';
      }

      if (!secretKeyRaw) {
        html += '<div class="check-item check-fail">âŒ å¯†é’¥ä¸ºç©º</div>';
      } else {
        html += '<div class="check-item check-pass">âœ… å¯†é’¥ä¸ä¸ºç©º</div>';
      }

      // 2. æ£€æŸ¥å‰åç©ºæ ¼
      html += '<h4>2ï¸âƒ£ ç©ºæ ¼æ£€æŸ¥</h4>';
      
      const appIdTrimmed = appIdRaw.trim();
      const secretKeyTrimmed = secretKeyRaw.trim();

      if (appIdRaw !== appIdTrimmed) {
        html += `<div class="check-item check-fail">âŒ APP ID å‰åæœ‰ç©ºæ ¼ï¼ˆåŸé•¿åº¦: ${appIdRaw.length}, æ¸…ç†å: ${appIdTrimmed.length}ï¼‰</div>`;
      } else {
        html += '<div class="check-item check-pass">âœ… APP ID å‰åæ— ç©ºæ ¼</div>';
      }

      if (secretKeyRaw !== secretKeyTrimmed) {
        html += `<div class="check-item check-fail">âŒ å¯†é’¥å‰åæœ‰ç©ºæ ¼ï¼ˆåŸé•¿åº¦: ${secretKeyRaw.length}, æ¸…ç†å: ${secretKeyTrimmed.length}ï¼‰</div>`;
      } else {
        html += '<div class="check-item check-pass">âœ… å¯†é’¥å‰åæ— ç©ºæ ¼</div>';
      }

      // 3. æ£€æŸ¥é•¿åº¦
      html += '<h4>3ï¸âƒ£ é•¿åº¦æ£€æŸ¥</h4>';
      html += `<div class="info-item">APP ID é•¿åº¦: ${appIdTrimmed.length} å­—ç¬¦</div>`;
      html += `<div class="info-item">å¯†é’¥é•¿åº¦: ${secretKeyTrimmed.length} å­—ç¬¦</div>`;

      // 4. æ£€æŸ¥ç‰¹æ®Šå­—ç¬¦
      html += '<h4>4ï¸âƒ£ ç‰¹æ®Šå­—ç¬¦æ£€æŸ¥</h4>';
      
      const appIdHasSpecial = /[\s\n\r\t]/.test(appIdTrimmed);
      const secretKeyHasSpecial = /[\s\n\r\t]/.test(secretKeyTrimmed);

      if (appIdHasSpecial) {
        html += '<div class="check-item check-fail">âŒ APP ID ä¸­é—´åŒ…å«ç©ºæ ¼ã€æ¢è¡Œæˆ–åˆ¶è¡¨ç¬¦</div>';
      } else {
        html += '<div class="check-item check-pass">âœ… APP ID ä¸­é—´æ— ç‰¹æ®Šå­—ç¬¦</div>';
      }

      if (secretKeyHasSpecial) {
        html += '<div class="check-item check-fail">âŒ å¯†é’¥ä¸­é—´åŒ…å«ç©ºæ ¼ã€æ¢è¡Œæˆ–åˆ¶è¡¨ç¬¦</div>';
      } else {
        html += '<div class="check-item check-pass">âœ… å¯†é’¥ä¸­é—´æ— ç‰¹æ®Šå­—ç¬¦</div>';
      }

      // 5. å­—ç¬¦è¯¦ç»†åˆ†æ
      html += '<h4>5ï¸âƒ£ è¯¦ç»†å­—ç¬¦åˆ†æ</h4>';
      
      html += '<div class="info-item">';
      html += '<strong>APP ID å­—ç¬¦ç ï¼š</strong><br>';
      html += Array.from(appIdTrimmed).map((char, i) => {
        const code = char.charCodeAt(0);
        return `[${i}]='${char}' (${code})`;
      }).join(', ');
      html += '</div>';

      html += '<div class="info-item">';
      html += '<strong>å¯†é’¥å­—ç¬¦ç ï¼š</strong><br>';
      html += Array.from(secretKeyTrimmed).map((char, i) => {
        const code = char.charCodeAt(0);
        return `[${i}]='${char}' (${code})`;
      }).join(', ');
      html += '</div>';

      // 6. æ ‡å‡†æ ¼å¼æ£€æŸ¥
      html += '<h4>6ï¸âƒ£ æ ¼å¼æ£€æŸ¥</h4>';
      
      const appIdFormat = /^[0-9]+$/.test(appIdTrimmed);
      if (appIdFormat) {
        html += '<div class="check-item check-pass">âœ… APP ID æ ¼å¼æ­£ç¡®ï¼ˆçº¯æ•°å­—ï¼‰</div>';
      } else {
        html += '<div class="check-item check-fail">âŒ APP ID æ ¼å¼å¼‚å¸¸ï¼ˆåº”è¯¥æ˜¯çº¯æ•°å­—ï¼‰</div>';
      }

      const secretKeyFormat = /^[A-Za-z0-9_-]+$/.test(secretKeyTrimmed);
      if (secretKeyFormat) {
        html += '<div class="check-item check-pass">âœ… å¯†é’¥æ ¼å¼æ­£ç¡®ï¼ˆå­—æ¯ã€æ•°å­—ã€ä¸‹åˆ’çº¿ã€è¿å­—ç¬¦ï¼‰</div>';
      } else {
        html += '<div class="check-item check-fail">âŒ å¯†é’¥æ ¼å¼å¼‚å¸¸ï¼ˆåŒ…å«éé¢„æœŸå­—ç¬¦ï¼‰</div>';
      }

      // 7. æ¸…ç†åçš„å€¼
      html += '<h4>7ï¸âƒ£ æ¸…ç†åçš„é…ç½®å€¼</h4>';
      html += '<div class="info-item">';
      html += `<strong>APP IDï¼š</strong>${appIdTrimmed}<br>`;
      html += `<strong>å¯†é’¥ï¼š</strong>${secretKeyTrimmed}`;
      html += '</div>';

      // 8. å»ºè®®
      html += '<h4>8ï¸âƒ£ å»ºè®®æ“ä½œ</h4>';
      
      let hasIssues = false;
      if (appIdRaw !== appIdTrimmed || secretKeyRaw !== secretKeyTrimmed || 
          appIdHasSpecial || secretKeyHasSpecial || !appIdFormat || !secretKeyFormat) {
        hasIssues = true;
      }

      if (hasIssues) {
        html += '<div class="check-item check-fail">';
        html += 'âš ï¸ å‘ç°é…ç½®é—®é¢˜ï¼è¯·æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤æ“ä½œï¼š<br><br>';
        html += '1. ç™»å½•ç™¾åº¦ç¿»è¯‘å¼€æ”¾å¹³å°ï¼š<a href="https://fanyi-api.baidu.com/manage/developer" target="_blank">https://fanyi-api.baidu.com/manage/developer</a><br>';
        html += '2. é‡æ–°å¤åˆ¶ APP ID å’Œå¯†é’¥ï¼ˆæ³¨æ„ä¸è¦é€‰ä¸­å¤šä½™çš„ç©ºæ ¼ï¼‰<br>';
        html += '3. ç²˜è´´åˆ°æ‰©å±•è®¾ç½®é¡µé¢å‰ï¼Œå…ˆç²˜è´´åˆ°è®°äº‹æœ¬æ£€æŸ¥ä¸€ä¸‹<br>';
        html += '4. ç¡®ä¿æ²¡æœ‰å¤šä½™çš„ç©ºæ ¼ã€æ¢è¡Œç¬¦ç­‰<br>';
        html += '5. é‡æ–°ä¿å­˜é…ç½®å¹¶æµ‹è¯•';
        html += '</div>';
      } else {
        html += '<div class="check-item check-pass">';
        html += 'âœ… é…ç½®æ ¼å¼çœ‹èµ·æ¥æ²¡é—®é¢˜ï¼<br><br>';
        html += 'å¦‚æœä»ç„¶å‡ºç° 54001 é”™è¯¯ï¼Œè¯·æ£€æŸ¥ï¼š<br>';
        html += '1. APP ID å’Œå¯†é’¥æ˜¯å¦åœ¨ç™¾åº¦ç¿»è¯‘æ§åˆ¶å°ä¸­æ­£ç¡®å¯¹åº”<br>';
        html += '2. è´¦æˆ·æ˜¯å¦æ­£å¸¸ï¼ˆæœªè¢«å°ç¦ã€æœ‰ä½™é¢ç­‰ï¼‰<br>';
        html += '3. å°è¯•é‡æ–°ç”Ÿæˆä¸€ä¸ªæ–°çš„å¯†é’¥';
        html += '</div>';
      }

      html += '</div>';
      
      document.getElementById('results').innerHTML = html;
    }

    function clearResults() {
      document.getElementById('results').innerHTML = '';
    }

    // è‡ªåŠ¨éªŒè¯
    window.onload = function() {
      const appId = document.getElementById('appId').value;
      const secretKey = document.getElementById('secretKey').value;
      if (appId && secretKey) {
        validateConfig();
      }
    };
  </script>
</body>
</html>

